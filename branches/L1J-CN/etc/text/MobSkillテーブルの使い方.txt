MobSkillについて

１．概要
　MobSkillテーブルはNPCが使用する特殊スキルの発动条件と発动される特殊スキルを定义したものです。
　特殊スキルは特殊物理攻击、魔法攻击、サモン、强制变身の4种类あります。
　このうち特殊物理攻击とサモンはMobSkill内へ所定の数值を设定すれば动作します。
　魔法攻击はL1SkillUseで管理していますので、skillsテーブルのskillidを设定すれば既存魔法については动作します。
　新しく魔法を追加する场合Skillsテーブルへ魔法を追加しなければなりません。

２．NPCの行动顺序
　NPCの行动顺序の行动顺序は以下のようになっており、MobSkillは２の“特殊スキル”で使用されます。
　　１．ターゲットのサーチ→ターゲットがいなければ４へ
　　２．“特殊スキル”を発动→発动すれば１へ
　　３．通常攻击
　　４．移动

３．発动条件
　発动条件には次の5种类あります。
　　・ランダム（１～１００％）
　　・现在のHP比率（１～１００％）
　　・同族NPCのHP比率（１～１００％）
　　・距离（指定距离以上、以下の两方定义可能）
　　・スキル使用回数

　これらの条件を设定するとAND条件になります。
　0を设定すれば、条件より除外されます。

４．テーブル构造とレコードフォーマット
　NPCのmobidと特殊スキルを实行する顺番を决めるactNoでユニークなキーになります。
　いくつか注意事项があります。
　mobid～TriCountまではスキルの种类によらず、共通して使用しますが
　その他のフィールドは使用スキルの种类により异なります。

　・物理攻击は以下のフィールドを使用します。
　　　Range～Levarage、Gfxid、ActId
　・魔法攻击は以下のフィールドを使用します。
　　　Levarage、SkillId
　・サモンは以下のフィールドを使用します。
　　　SummonId、SummonMin、SummonMax
　・强制变身は以下のフィールドを使用します。
　　　PolyId

　－レコードフォーマット
　1.mobid
　　スキルを使用するNPCのID

　2.actNo
　　スキルを使用した场合、どの顺番で实行するかを决める番号
　　必ず0から始め、1ずつ增やす

　3.mobname
　　スキルを使用するNPCの名前

　4.Type
　　スキルのタイプ
　　1:物理攻击、2：魔法攻击、3：サモン、4：强制变身

　5.TriRnd
　　スキル発动条件：ランダムな确率（1～100）

　6.TriHp
　　スキル発动条件：HPが%以下で発动（1～100）

　7.TriCompanionHp
　　スキル発动条件：同族のHPが%以下で発动（1～100）
　　このスキルが発动するとターゲットをHP比率が一番少ない同族NPCに变更します。

　8.TriRange
　　スキル発动条件：triRange<0の场合、对象との距离が绝对值(triRange)以下のとき発动
　　　　　　　　　　triRange>0の场合、对象との距离がtriRange以上のとき発动

　9.TriCount
　　スキル発动条件：スキルの発动回数がtriCount以下のとき発动

　10.ChangeTarget
　　スキル発动后、ターゲットを变更する场合に指定します。（未实装）

　11.Range（物理攻击のみ使用）
　　rangeまでの距离ならば攻击可能、物理攻击をするならば近接攻击の场合でも1以上を设定

　12.AreaWidth（物理攻击のみ使用）
　　范围攻击の横幅、单体攻击ならば0を设定、范围攻击するならば0以上を设定
　　WidthとHeightの设定は攻击者からみて横幅をWidth、奥行きをHeightとする。
　　Widthは1を指定すれば、ターゲットを中心として左右1までが对象となる。

　13.AreaHeight（物理攻击のみ使用）
　　范围攻击の奥行き、单体攻击ならば0を设定、范围攻击するならば1以上を设定

　14.Leverage（魔法攻击、物理攻击で使用）
　　ダメージの倍率、1/10で表す。物理攻击、魔法攻击共に有效

　15.SkillId（魔法攻击のみ使用）
　　魔法を使う场合、skillsテーブルに记载されているskillIdを指定

　16.Gfxid（物理攻击のみ使用）
　　物理攻击のモーショングラフィックを指定する场合记入する。
　　例：ドレイクの炎、龙の尻尾・首振り等

　17.ActId（物理攻击のみ使用）
　　 物理攻击のグラフィックのアクションID
　　例：オーガの薙ぎ払い、スコーピオンの挟み迂み攻击

　18.SummonId（サモンのみ使用）
　　サモンするモンスターのNPCID

　19.SummonMin（サモンのみ使用）
　　サモンするモンスターの最少数

　20.SummonMax（サモンのみ使用）
　　サモンするモンスターの最大数

　21.PolyId(强制变身のみ使用)
　　强制变身させるID、polymorphsテーブルを参照して下さい。
　　强制变身させる对象は15セル以内にいるPCが对象となります。
　　壁は贯通しません。

余谈
　魔法攻击はskillidのみで、距离や范围の指定がありません。
　これは魔法攻击がskillsテーブルにRange～AreaHeightまでの情报を持たせているため
　mobSkillテーブルに记入する必要がないためです。
　将来、物理攻击も魔法攻击と同样な构造になるかもしれませんが、そうなった场合
　こちらで、mobSkillに登录されている物理攻击情报は移管しますので
　互换性については问题ありません。
